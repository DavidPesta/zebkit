<!DOCTYPE html>
<html lang="en-us">

  <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <meta name="viewport"
       content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="msapplication-tap-highlight" content="no">


    <title>
        
          Event handling &middot; Zebkit - UI platform
        
    </title>

  <!-- CSS -->


    <link rel="stylesheet" href="/website/dark/public/css/poole-dark.css">
    <link rel="stylesheet" href="/website/dark/public/css/syntax-dark.css">
    <link rel="stylesheet" href="/website/dark/public/css/main-dark.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=EB+Garamond">
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/website/dark/public/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/website/dark/public/favicon.ico">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

    <script type="text/javascript" src="/build/zebkit.js">  </script>

    <script type="text/javascript">
        zebkit.ui.config("theme", "dark");
    </script>
</head>



  <body>

    <div class="sidebar" style="padding: 0px;   border-right: 1px solid orange" >
    <div class="container sidebar-sticky" style="padding: 0px; margin: 0px;">
        <table style="height:100%;border-width: 0px; border-color: #151515;">
            <tr>
                <td colspan="2" align="center" style="border-width: 0px; margin: 0px; padding: 0px;">
                    <a href="../index.html">
                        <img style="margin: 0px; padding: 0px;" src="/website/dark/public/images/zebkit.logo.png" width="60%">
                    </a>
                </td>
            </tr>
            <tr>
                <td colspan="2" style="border-width: 0px;">
                    <p style="margin:0px; font-style: italic;"><b style='color:orange; font-size:1.5rem;'>Zebkit</b> is HTML5 Canvas based UI platform developed with unique EasyOOP JavaScript concept and rich extendible components set</p>
                </td>
            </tr>

            <tr style="height:100%;" valign="top" align="right">
                <td colspan="2" style="border-width: 0px;">
                    
                    
                        
                        
                        
                    
                        
                        

                            
                            


                            <a class="sidebar-nav-item "
                               href="/website/dark/about.html">
                                Zebkit ?
                            </a>


                        
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                        


                        
                        
                    
                        
                        

                            
                            


                            <a class="sidebar-nav-item "
                               href="/website/dark/api.html">
                                API Doc
                            </a>


                        


                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        

                            
                            


                            <a class="sidebar-nav-item active"
                               href="/website/dark/docs.html">
                                Documentation
                            </a>


                        
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                                <!--


                                -->
                            
                        
                            
                        
                            
                        
                        


                        
                        
                    
                        
                    
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        
                        
                    
                        
                        

                            
                            


                            <a class="sidebar-nav-item "
                               href="/website/dark/getstarted.html">
                                Get started
                            </a>


                        


                        
                        
                    
                </td>
            </tr>

            <tr style="height:90px;">
                <td colspan="2"  style="border-width: 0px;padding: 0px;"></td>
            </tr>

            <tr>
                <td align="right" colspan="2" style="border-width: 0px; border-top: 1px solid orange;">
                    <small><a href="mailto:ask@zebkit.org">Andrei Vishneuski (c), 2017</a></small>
                </td>
            </tr>

            <tr>
                <td colspan="2" valign="top" align="right" style="border-width: 0px;padding: 0px;">
                    <table style="width:240px;border-width: 0px; padding: 0px;" cellpadding="0" cellspacing="0">
                        <tr style="padding: 0px;" border="1">
                            <td style="width:60px;border-width: 0px;" align="right">
                                <a href="https://github.com/barmalei/zebkit" title="Download">
                                    <img alt="Download" title="Download" src="/website/dark/public/images/github3.png" width="40px" height="40px">
                                </a>
                            </td>
                            <td style="width:60px; border-width: 0px;" align="right">
                                <a href="https://twitter.com/zebkit">
                                    <img src="/website/dark/public/images/twitter.png" width="40px" height="40px">
                                </a>
                            </td>
                            <td style="width:60px; border-width: 0px;" align="right">
                                <a href="https://nl.linkedin.com/in/andrei-vishneuski-34b52514">
                                    <img src="/website/dark/public/images/linkedin.png" width="40px" height="40px">
                                </a>
                            </td>

                            <td style="width: 70px; border-width: 0px; " valign="center" align="right">
                                <a href="../build/zebkit.runtime.zip">
                                    <img src="/website/dark/public/images/download-dark.png" width="40px" height="40px">
                                </a>
                            </td>

                        </tr>
                    </table>
                </td>

            </tr>

        </table>

    <nav class="sidebar-nav">

<!--
      <a class="sidebar-nav-item" href="/website/dark/">Home</a>
 -->

    </nav>

  </div>
</div>

    <div class="content container">
      <div class="page">

    

    <h3>Component specific event handling</h3>

<p>Zebkit event listener registration pattern:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">comp</span><span class="p">.</span><span class="nx">on</span><span class="p">([</span><span class="nx">eventName</span><span class="p">,][</span><span class="nx">path</span><span class="p">,],</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre></div>
<ul>
<li><p><strong>path</strong> is an optional parameter, to lookup component or components the given event handler have to be registered. Path is X-Path like expression. For instance: <code>&quot;//*&quot;</code> detects all children components, <code>&quot;//zebkit.ui.Label&quot;</code> will match all children labels components. </p></li>
<li><p><strong>eventName</strong> is an optional parameter to say which event exactly you need to catch. For instance: <code>&quot;matrixModel.on(&#39;matrixResized&#39;, ...);&quot;</code>. If the parameter has not been specified all available events will be caught.  </p></li>
<li><p><strong>callback</strong> is an event or events handler function.</p></li>
</ul>

<p>To stop handling event or events use the following pattern:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">comp</span><span class="p">.</span><span class="nx">off</span><span class="p">([</span><span class="nx">eventName</span><span class="p">,][</span><span class="nx">path</span><span class="p">]);</span>
</code></pre></div>
<p>The parameter meaning is the same to &quot;on(...)&quot; method. If there is no parameters have been specified, all events handlers for the given component will be detached.  </p>

<h3>UI events handling</h3>

<p>UI components generate number of UI specific events like:  </p>

<ul>
<li><strong>Key events</strong> like key pressed, released and typed</li>
<li><strong>Pointer events</strong> like pointer pressed, released, clicked, moved, dragged and so on. Zebkit pointer events are unified, what means you work with the same event type nevertheless of input device: mouse, touch screen, pen. </li>
<li><strong>Focus events</strong> UI components can catch and lost focus. In this case it fires focus gained and lost events.</li>
<li><strong>UI Component events</strong> UI components can update its metrics (size, location) and manage the children components set (add, remove, set).</li>
</ul>

<p>The event type is handled following <strong>overriding pattern</strong> instead of registering listeners via &quot;on(...)/off(...)&quot; methods call. It is done to save resources, speeds up events handling and minimize possible memory leaks that are probable when you have to track listeners list. </p>

<p>Overriding pattern applied to mentioned above UI events says that you have to override desired UI event handler method for the given UI component to start handling it. For instance, if you need to handle pointer released event do it as follow:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="kd">var</span> <span class="nx">comp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">();</span>
<span class="p">...</span>
<span class="nx">comp</span><span class="p">.</span><span class="nx">pointerReleased</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// here you will get pointer released event </span>
    <span class="p">...</span>
<span class="p">};</span>
</code></pre></div>
<p>or the same with anonymous class paradigm:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="kd">var</span> <span class="nx">comp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">([</span>
    <span class="kd">function</span> <span class="nx">pointerReleased</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// here you will get pointer released event </span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div>
<p>Pay attention that zebkit UI components can have own implementations of appropriate UI events handler. In this case don&#39;t forget to call super implementation:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">...</span>
<span class="kd">var</span> <span class="nx">comp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">(</span><span class="s2">"Button"</span><span class="p">,</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">pointerReleased</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// here you will get pointer released event </span>
        <span class="p">...</span>
        <span class="c1">// call super implementation of the UI event handler</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">$super</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div>
<p><strong>List of available UI events:</strong></p>

<table class="info">
<tr><th>UI events names</th><th>Description</th></tr>

<tr><td markdown="1" valign="top">
**Pointer events:**<br/>
pointerMoved, pointerPressed,<br/>
pointerReleased, pointerClicked,<br/> 
pointerDragStarted, pointerDragged,<br/>
pointerDragEnded, pointerEntered,<br/> 
pointerExited
</td><td markdown="1">
Pointer events that are fired with mouse, touch screen, pen devices. Pointer events handlers get "zebkit.ui.PointerEvent" class instance as its argument. The class has the following fields:

   * **source**. Source UI component that has fired the event
   * **id**. Name of the event ("ponterPressed", "pointerEntered", etc)  
   * **ponterType**. A type of device that has fired the event: "mouse", "touch", etc.
   * **identifier**. An identifier of pointer event. For instance every touch event has unique identifier. Events are fired with mouse left and right buttons will have "lmouse" and "rmouse" identifiers correspondingly. 
   * **touchCounter**. Amount of touches. In case of mouse if you press both left and right button then "touchCounter" field will be set to 2.
   * **altKey, shiftKey, ctrlKey, metaKey**. Meta key states boolean flags. 
   * **absX, absY**. Absolute location of pointer event relatively to HTML Canvas where the UI component is hosted.
   * **x, y**. Location relatively to a source UI component. 

</td></tr>

<tr><td markdown="1" valign="top">
**Key events:**<br/>
keyPressed, keyTyped,<br/>
keyReleased
</td><td markdown="1">
Keyboard events. Key event handler methods get "zebkit.ui.KeyEvent" class instance as its argument. The class has the following fields:

   * **source**. Source UI component that has fired the event
   * **id**. Name of the event ("keyTyped", "keyPressed", etc)  
   * **key**. A character(s) that has been typed.
   * **code**. A unique key code like "KeyK", "F1", "Escape", etc
   * **altKey, shiftKey, ctrlKey, metaKey**. Meta key states boolean flags. 
   * **device**. Name of devices that fired the given event: "keyboard", "virtualKeyboard".
   * **repeat**. Number of repeated occurrences. 
   
</td></tr>

<tr><td markdown="1" valign="top">
**Focus events:**<br/>
focusGained, focusLost
</td><td markdown="1">
Focus events. Focus event handler methods get "zebkit.ui.FocusEvent" class instance as its argument. The class has the following fields:

   * **source**. Source UI component that has fired the event
   * **id**. Name of the event ("focusLost", "focusGained")  
   * **related**. A character(s) that has been typed.

</td></tr>

<tr><td markdown="1" valign="top">
**UI component events:**<br/>
compResized, compMoved,<br/> 
compEnabled, compShown,<br/>
compAdded, compRemoved
</td><td markdown="1">
UI component events. Component event handler methods get "zebkit.ui.CompEvent" class instance as its argument. The class has the following fields:

   * **source**. Source UI component that has fired the event
   * **id**. Name of the event ("compResized", "compMoved", etc)  
   * **kid**. A kid that has been removed or added.
   * **index**. Am index of a kid that has been removed or added to the source component.
   * **constraints**. A layout constraints the kid has been added to the source component.
   * **prevX, prevY**. A previous location the component has had before it has been moved.
   * **prevWidth, prevHeight**. A previous size the component has had before it has been re-sized.  

</td></tr>
</table>

<h2>Handling children UI events</h2>

<p>It is possible to catch UI events from children components with a direct parent or ancestor component. It can be done the same way you handle UI events - with overriding appropriate event handler method, but in this case you have to add &quot;child&quot; prefix to a name of required handler method. </p>

<p>For instance, imagine you have a panel that contains number of labels components as its children. You want to handle pointer pressed UI event that has occurred over the labels. You can try to add event &quot;pointerPressed&quot; method handler to every label, but is not handy and generic. Instead add children UI events handler on the level of parent panel component:</p>

<table class="zsample" style="margin:0px;" cellpadding="0" cellspacing="0">
    <tr style="padding: 0px;margin: 0px;">
        <td align="center" valign="center" style="padding: 0px; margin: 0px;">
            <canvas id="childrenEvents" style="padding: 0px; margin: 0px;"></canvas>
        </td>
        <td valign="top" rowspan="2" style="left-padding: 8px; margin: 0px;">
            
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0px; margin:0px;">
            <span style="color:red;font-size:14px;">Children UI events handling </span>
        </td>
    </tr>
</table>
                    

<script type="text/javascript">
zebkit.require("ui", "layout", function(ui, layout) {
    var root = new ui.zCanvas("childrenEvents", 400, 300).root;
    root.setLayout(new layout.ListLayout(8));
    root.setPadding(8);
    root.setBorder("plain");
    for (var i = 0; i < 5; i++) {
        root.add(new ui.Label("Press on " + i + "-th label\n" + 
                              "to change its background")
            .setPadding(4))
            .setBorder("plain");
    }

    root.childPointerPressed = function(e) {
        e.source.setBackground(e.source.bg !=null ? null : "#44AAFF"); 
    };
});  
</script>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">zebkit</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">"ui"</span><span class="p">,</span> <span class="s2">"layout"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ui</span><span class="p">,</span> <span class="nx">layout</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">zCanvas</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">).</span><span class="nx">root</span><span class="p">;</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="nx">layout</span><span class="p">.</span><span class="nx">ListLayout</span><span class="p">(</span><span class="mi">8</span><span class="p">));</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setPadding</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setBorder</span><span class="p">(</span><span class="s2">"plain"</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">root</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">(</span><span class="s2">"Press on "</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s2">"-th label\n"</span> <span class="o">+</span> 
                              <span class="s2">"to change its background"</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">setPadding</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">setBorder</span><span class="p">(</span><span class="s2">"plain"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// catch children labels pointer pressed event to update </span>
    <span class="c1">// the labels background</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">childPointerPressed</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">setBackground</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">bg</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span><span class="kc">null</span><span class="p">:</span><span class="s2">"#44AAFF"</span><span class="p">);</span> 
    <span class="p">};</span>
<span class="p">});</span>  
</code></pre></div>
<h2>Composite components</h2>

<p>Zebkit UI is organized as a hierarchy of UI components where every UI component can be a container for other UI components. UI hierarchy is a good developing approach to implement compound UI components where developers can assemble UI components from another UI components. For example  &quot;zebkit.ui.Button&quot; component can use any other UI component as its content: images, series of images, combinations of labels and images, etc.</p>

<p>The problem of developing compound component is children events handling. In the case of &quot;zebkit.ui.Button&quot; every time a pointer pressed over its content component the event is sent only to the content component, button itself doesn&#39;t get it. Possible solution is implementing children component UI events handler(s) as it has been described earlier. More graceful solution is follow <strong>composite UI component</strong> approach.</p>

<p>Composite is an UI component that makes its children components &quot;event transparent&quot;. Event transparency means the children components don&#39;t get any input (pointer, keyboard, etc) events. It looks like the children components transparent for these events.</p>

<p>To make children of a container events transparent you should set &quot;catchInput&quot; property in the container to true value. It makes all children component of the container event transparent:</p>

<table class="zsample" style="margin:0px;" cellpadding="0" cellspacing="0">
    <tr style="padding: 0px;margin: 0px;">
        <td align="center" valign="center" style="padding: 0px; margin: 0px;">
            <canvas id="compositeComp1" style="padding: 0px; margin: 0px;"></canvas>
        </td>
        <td valign="top" rowspan="2" style="left-padding: 8px; margin: 0px;">
            
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0px; margin:0px;">
            <span style="color:red;font-size:14px;">Children UI events handling </span>
        </td>
    </tr>
</table>
                    

<script type="text/javascript">
zebkit.require("ui", "layout", function(ui, layout) {
    var root = new ui.zCanvas("compositeComp1", 400, 250).root;
    root.properties({
        padding: 8,
        border: "plain",
        layout: new layout.ListLayout(16),
        kids  : [
          new zebkit.ui.Button("Event transparent button"),
          new zebkit.ui.Checkbox("Event transparent checkbox"),
          new zebkit.ui.TextField("Event transparent field")
        ]
    });
    root.catchInput = true;
});  
</script>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">zebkit</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">"ui"</span><span class="p">,</span> <span class="s2">"layout"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ui</span><span class="p">,</span> <span class="nx">layout</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">zCanvas</span><span class="p">(</span><span class="s2">"compositeComp1"</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">250</span><span class="p">).</span><span class="nx">root</span><span class="p">;</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">properties</span><span class="p">({</span>
        <span class="na">padding</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="na">border</span><span class="p">:</span> <span class="s2">"plain"</span><span class="p">,</span>
        <span class="na">layout</span><span class="p">:</span> <span class="k">new</span> <span class="nx">layout</span><span class="p">.</span><span class="nx">ListLayout</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span>
        <span class="na">kids</span>  <span class="p">:</span> <span class="p">[</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">(</span><span class="s2">"Event transparent button"</span><span class="p">),</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Checkbox</span><span class="p">(</span><span class="s2">"Event transparent checkbox"</span><span class="p">),</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">TextField</span><span class="p">(</span><span class="s2">"Event transparent field"</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">});</span>
    <span class="c1">// Make children components of "root" component </span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">catchInput</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">});</span>  
</code></pre></div>
<p>More flexible way to add event transparency is defining &quot;catchInput(kid)&quot; method (instead of treating it as a filed) that gets kid component as an input and should decide whether the given children component has to be make event transparent: </p>

<table class="zsample" style="margin:0px;" cellpadding="0" cellspacing="0">
    <tr style="padding: 0px;margin: 0px;">
        <td align="center" valign="center" style="padding: 0px; margin: 0px;">
            <canvas id="compositeComp2" style="padding: 0px; margin: 0px;"></canvas>
        </td>
        <td valign="top" rowspan="2" style="left-padding: 8px; margin: 0px;">
            
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0px; margin:0px;">
            <span style="color:red;font-size:14px;">Children UI events handling </span>
        </td>
    </tr>
</table>
                    

<script type="text/javascript">
zebkit.require("ui", "layout", function(ui, layout) {
    var root = new ui.zCanvas("compositeComp2", 400, 300).root;
    root.properties({
        padding: 8,
        border: "plain",
        layout: new layout.ListLayout(16),
        kids  : [
        new zebkit.ui.Button("Event transparent button"),
        new zebkit.ui.Checkbox("Normal check box"),
        new zebkit.ui.TextField("Normal field")
        ]
    });
    root.catchInput = function(kid) {
        return kid === root.kids[0]; 
    };
});  
</script>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">zebkit</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">"ui"</span><span class="p">,</span> <span class="s2">"layout"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ui</span><span class="p">,</span> <span class="nx">layout</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">zCanvas</span><span class="p">(</span><span class="s2">"compositeComp2"</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">).</span><span class="nx">root</span><span class="p">;</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">properties</span><span class="p">({</span>
        <span class="na">padding</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="na">border</span><span class="p">:</span> <span class="s2">"plain"</span><span class="p">,</span>
        <span class="na">layout</span><span class="p">:</span> <span class="k">new</span> <span class="nx">layout</span><span class="p">.</span><span class="nx">ListLayout</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span>
        <span class="na">kids</span>  <span class="p">:</span> <span class="p">[</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">(</span><span class="s2">"Event transparent button"</span><span class="p">),</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Checkbox</span><span class="p">(</span><span class="s2">"Normal check box"</span><span class="p">),</span>
          <span class="k">new</span> <span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">TextField</span><span class="p">(</span><span class="s2">"Normal field"</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">});</span>

    <span class="c1">// Make first button of "root" component events transparent. </span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">catchInput</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">kid</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">kid</span> <span class="o">===</span> <span class="nx">root</span><span class="p">.</span><span class="nx">kids</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> 
    <span class="p">};</span>
<span class="p">});</span>  
</code></pre></div>
<h2>Global event handling</h2>

<p>Zebkit <strong>UI events</strong> handling and distribution is managed with a special singleton class &quot;zebkit.ui.EventManager&quot; class. The manager gets all UI events and than decides how its have to be delivered to destination UI components.</p>

<p>The manager is accessible via &quot;zebkit.ui.events&quot; variable and provides possibility to register global events listeners. Global means the handlers  are getting all UI events have happened with all active UI components. To register and unregister global UI events handler follow the standard pattern:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// listen all pointer pressed events for all actiev UI components</span>
<span class="nx">zebkit</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"pointerPressed"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">});</span>
</code></pre></div>
<p>For example imagine you need to listen &quot;pointerPressed&quot; event for all UI components to show information window with the components metrics (size and location):    </p>

<table class="zsample" style="margin:0px;" cellpadding="0" cellspacing="0">
    <tr style="padding: 0px;margin: 0px;">
        <td align="center" valign="center" style="padding: 0px; margin: 0px;">
            <canvas id="globalEvents" style="padding: 0px; margin: 0px;"></canvas>
        </td>
        <td valign="top" rowspan="2" style="left-padding: 8px; margin: 0px;">
            
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0px; margin:0px;">
            <span style="color:red;font-size:14px;">Children UI events handling </span>
        </td>
    </tr>
</table>
                    

<script type="text/javascript">
zebkit.require("ui", "layout", function(ui, layout) {
    var root = new ui.zCanvas("globalEvents", 400, 300).root;
    root.setLayout(new layout.RasterLayout(true));
    root.setPadding(8);
    root.setBorder("plain");

    root.add(new ui.Button("Test Button").setLocation(90,90));
    root.add(new ui.Checkbox("Test\nCheck box").setLocation(240,170));
    root.add(new ui.TextField("Test text field").setLocation(50,220));

    var info = new ui.Tooltip("");
    ui.events.on("pointerPressed", function(e) {
        if (info.parent !== null) {
            info.removeMe();
        }
        if (root !== e.source) {
            // show info about an UI component the pointer pressed
            // event has occurred  
            info.setValue("x = " + e.source.x+",y = "+e.source.y+
                          "\nw = "+e.source.width+",h = "+e.source.height);
            info.toPreferredSize();
            info.setLocation(e.absX + 5, e.absY - info.height);
            ui.showWindow(root, info);
            info.removeMe(1500);
        }
    });
});  
</script>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">zebkit</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">"ui"</span><span class="p">,</span> <span class="s2">"layout"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ui</span><span class="p">,</span> <span class="nx">layout</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">zCanvas</span><span class="p">(</span><span class="s2">"globalEvents"</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">).</span><span class="nx">root</span><span class="p">;</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="nx">layout</span><span class="p">.</span><span class="nx">RasterLayout</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setPadding</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">setBorder</span><span class="p">(</span><span class="s2">"plain"</span><span class="p">);</span>
    <span class="c1">// add number of components</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">(</span><span class="s2">"Test Button"</span><span class="p">).</span><span class="nx">setLocation</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">90</span><span class="p">));</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Checkbox</span><span class="p">(</span><span class="s2">"Test\nCheck box"</span><span class="p">).</span><span class="nx">setLocation</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span><span class="mi">170</span><span class="p">));</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">TextField</span><span class="p">(</span><span class="s2">"Test text field"</span><span class="p">).</span><span class="nx">setLocation</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">220</span><span class="p">));</span>

    <span class="kd">var</span> <span class="nx">info</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Tooltip</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

    <span class="c1">// register global pointer pressed handler</span>
    <span class="nx">ui</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"pointerPressed"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">parent</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">info</span><span class="p">.</span><span class="nx">removeMe</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">root</span> <span class="o">!==</span> <span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// show info about an UI component the pointer pressed</span>
            <span class="c1">// event has occurred  </span>
            <span class="nx">info</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s2">"x = "</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="s2">",y = "</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span>
                  <span class="s2">"\nw = "</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="s2">",h = "</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
            <span class="nx">info</span><span class="p">.</span><span class="nx">toPreferredSize</span><span class="p">();</span>
            <span class="nx">info</span><span class="p">.</span><span class="nx">setLocation</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">absX</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">absY</span> <span class="o">-</span> <span class="nx">info</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
            <span class="nx">ui</span><span class="p">.</span><span class="nx">showWindow</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">info</span><span class="p">);</span>
            <span class="nx">info</span><span class="p">.</span><span class="nx">removeMe</span><span class="p">(</span><span class="mi">1500</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>  
</code></pre></div>
</div>

    </div>


  </body>
</html>
